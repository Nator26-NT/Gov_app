<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eligibility Checker | InDigee</title>
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      min-height: 100vh;
      background-image: url("InDigee-Background-Image.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
    }

    .page {
      width: 100%;
      max-width: 780px;
      text-align: center;
    }

    h1 {
      margin: 0 0 6px;
      font-size: 30px;
      font-weight: 800;
    }

    .subtitle {
      margin: 0 0 22px;
      font-size: 16px;
      font-weight: 600;
    }

    .question-list {
      display: grid;
      gap: 16px;
    }

    .question-card {
      background: rgba(255, 255, 255, 0.75);
      border-radius: 16px;
      padding: 16px 18px;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.1);
      text-align: left;
    }

    .question-title {
      margin: 0 0 10px;
      font-size: 15px;
      font-weight: 700;
    }

    .option-group {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .option-group input {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .option {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 12px;
      border-radius: 10px;
      background: #e5e5e5;
      border: 1px solid #bdbdbd;
      font-weight: 600;
      cursor: pointer;
      text-align: center;
      transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .option:hover {
      background: #dedede;
      border-color: #000;
    }

    .option-group input:checked + .option {
      background: #cfcfcf;
      border-color: #000;
      box-shadow: inset 0 0 0 1px #000;
    }

    .result-card {
      background: rgba(220, 220, 220, 0.85);
      border-radius: 16px;
      padding: 18px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 16px;
      align-items: center;
      text-align: left;
      border: 1px solid rgba(0, 0, 0, 0.25);
    }

    .result-wrap {
      margin-top: 18px;
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transform: translateY(10px);
      transition: max-height 0.45s ease, opacity 0.45s ease, transform 0.45s ease;
    }

    .result-wrap.is-visible {
      max-height: 200px;
      opacity: 1;
      transform: translateY(0);
    }

    .result-card.not-eligible {
      background: rgba(210, 210, 210, 0.85);
    }

    .result-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #000;
      color: #fff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 700;
    }

    .result-title {
      margin: 0 0 4px;
      font-weight: 800;
    }

    .result-text {
      margin: 0;
      font-size: 14px;
    }

    .proceed-btn {
      background: #000;
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 10px 18px;
      font-weight: 600;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    .proceed-btn:disabled {
      opacity: 0.45;
      cursor: not-allowed;
    }

    @media (max-width: 640px) {
      .result-card {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .result-card .result-body {
        text-align: center;
      }

      .proceed-btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <main class="page">
    <h1>Eligibility Checker</h1>
    <p class="subtitle">Answer these questions to see if you may qualify</p>

    <form class="question-list">
      <div class="question-card">
        <p class="question-title">1. Is your combined household income below R5,090/month?</p>
        <div class="option-group">
          <input type="radio" id="q1-yes" name="q1" />
          <label for="q1-yes" class="option">Yes</label>
          <input type="radio" id="q1-no" name="q1" />
          <label for="q1-no" class="option">No</label>
        </div>
      </div>

      <div class="question-card">
        <p class="question-title">2. Are you unemployed?</p>
        <div class="option-group">
          <input type="radio" id="q2-yes" name="q2" />
          <label for="q2-yes" class="option">Yes</label>
          <input type="radio" id="q2-no" name="q2" />
          <label for="q2-no" class="option">No</label>
        </div>
      </div>

      <div class="question-card">
        <p class="question-title">3. Are you a pensioner with no other income?</p>
        <div class="option-group">
          <input type="radio" id="q3-yes" name="q3" />
          <label for="q3-yes" class="option">Yes</label>
          <input type="radio" id="q3-no" name="q3" />
          <label for="q3-no" class="option">No</label>
        </div>
      </div>

      <div class="question-card">
        <p class="question-title">4. Is your property value below R300,000?</p>
        <div class="option-group">
          <input type="radio" id="q4-yes" name="q4" />
          <label for="q4-yes" class="option">Yes</label>
          <input type="radio" id="q4-no" name="q4" />
          <label for="q4-no" class="option">No</label>
        </div>
      </div>

      <div class="question-card">
        <p class="question-title">5. Is this a child-headed household?</p>
        <div class="option-group">
          <input type="radio" id="q5-yes" name="q5" />
          <label for="q5-yes" class="option">Yes</label>
          <input type="radio" id="q5-no" name="q5" />
          <label for="q5-no" class="option">No</label>
        </div>
      </div>
    </form>

    <div class="result-wrap" id="result-wrap" aria-live="polite" aria-atomic="true">
      <div class="result-card" id="result-card">
        <span class="result-icon" id="result-icon">✓</span>
        <div class="result-body">
          <p class="result-title" id="result-title">You may qualify!</p>
          <p class="result-text" id="result-text">
            Based on your answers, you appear to meet the eligibility criteria for indigent support services.
          </p>
        </div>
        <button class="proceed-btn" id="proceed-btn" type="button">Proceed</button>
      </div>
    </div>
  </main>

  <script>
    const form = document.querySelector(".question-list");
    const resultWrap = document.getElementById("result-wrap");
    const resultCard = document.getElementById("result-card");
    const resultIcon = document.getElementById("result-icon");
    const resultTitle = document.getElementById("result-title");
    const resultText = document.getElementById("result-text");
    const proceedBtn = document.getElementById("proceed-btn");

    const getAnswer = (name) => {
      const selected = form.querySelector(`input[name="${name}"]:checked`);
      return selected ? selected.id.endsWith("yes") : null;
    };

    const updateResult = () => {
      const answers = ["q1", "q2", "q3", "q4", "q5"].map(getAnswer);

      if (answers.some((answer) => answer === null)) {
        resultWrap.classList.remove("is-visible");
        return;
      }

      const [incomeBelow, unemployed, pensioner, propertyBelow, childHeaded] = answers;
      const qualifies =
        incomeBelow &&
        propertyBelow &&
        (unemployed || pensioner || childHeaded);

      if (qualifies) {
        resultCard.classList.remove("not-eligible");
        resultIcon.textContent = "✓";
        resultTitle.textContent = "You may qualify!";
        resultText.textContent =
          "Based on your answers, you appear to meet the eligibility criteria for indigent support services.";
        proceedBtn.disabled = false;
        proceedBtn.textContent = "Proceed";
      } else {
        resultCard.classList.add("not-eligible");
        resultIcon.textContent = "!";
        resultTitle.textContent = "You may not qualify";
        resultText.textContent =
          "Based on your answers, it looks like you may not meet the eligibility criteria. You can review your responses or continue to learn more.";
        proceedBtn.disabled = true;
        proceedBtn.textContent = "Proceed";
      }

      resultWrap.classList.add("is-visible");
    };

    form.addEventListener("change", updateResult);

    proceedBtn.addEventListener("click", () => {
      if (proceedBtn.disabled) return;
      window.location.href = "register.html";
    });
  </script>
</body>
</html>
